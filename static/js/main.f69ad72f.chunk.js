(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{226:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),i=a(13),s=a(20),u=a(17),l="GET_CURRENT_LOCATION",d="GET_CURRENT_WEATHER",j="GET_FIVE_DAYS_FORECAST",b="ADD_TO_FAVORITE_LIST",f="REMOVE_FROM_FAVORITE_LIST",p="NAVIGATE_TO_FAVORITE_SCREEN",O="NAVIGATE_TO_HOME_SCREEN",h=function(e){return{type:b,payload:e}},m=function(e){return{type:f,payload:e}},g=a(15),v=a(108),x=a(261),y=a(265),w=a(228),T=a(274),S=a(263),E=a(100),N=a.n(E),R=a(101),A=a.n(R),C=a(5),k=Object(x.a)({root:{border:"none",borderRadius:"50%"}}),I=function(e){var t=e.isFavorite,a=e.onToggle,c=k(),r=Object(n.useState)(t),o=Object(i.a)(r,2),s=o[0],u=o[1];Object(n.useEffect)((function(){u(t)}),[t]);return Object(C.jsx)(T.a,{children:Object(C.jsx)(S.a,{className:c.root,value:"check",selected:s,onChange:function(e){e.stopPropagation(),u(!s),a(s)},children:s?Object(C.jsx)(N.a,{color:"secondary"}):Object(C.jsx)(A.a,{})})})},F=Object(x.a)((function(e){return{root:{padding:"1em",backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"1em"},paper:{},control:{padding:"1em"},header:{},title:{fontSize:"1.5rem",fontWeight:"bold"},subTitle:{fontSize:"1rem",color:e.palette.grey[400],marginLeft:"1"},temperature:{fontSize:"3rem",color:e.palette.primary.main},imageContainer:{paddingRight:"1em"},image:{width:"100%"}}})),L=function(e){var t=e.currentWeather,a=(e.fiveDaysForecast,F()),c=Object(n.useState)(!1),r=Object(i.a)(c,2),o=r[0],s=r[1],l=Object(u.b)();Object(n.useEffect)((function(){d()}),[]);var d=function(){localStorage.getItem(t.id)&&s(!0)};return Object(C.jsx)(w.a,{className:a.root,elevation:0,children:Object(C.jsxs)(T.a,{component:"span",display:"flex",children:[Object(C.jsx)(T.a,{className:a.imageContainer,children:Object(C.jsx)("img",{className:a.image,src:"https://developer.accuweather.com/sites/default/files/".concat(t.icon<10?"0":"").concat(t.icon,"-s.png"),alt:"weather-icon"})}),Object(C.jsxs)(T.a,{flexGrow:1,children:[Object(C.jsxs)(T.a,{className:a.header,children:[Object(C.jsx)(T.a,{className:a.title,children:t.title}),Object(C.jsx)(T.a,{className:a.subTitle,children:t.weatherText})]}),Object(C.jsx)(T.a,{className:a.temperature,children:t.temperature})]}),Object(C.jsx)(I,{isFavorite:o,onToggle:function(){s(!o),l(o?m(t.id):h(t))}})]})})},_="tel aviv",D="oops something went wrong...",W=a(102),z=a.n(W),M=a(3),V=a(266),G=function(e){return{type:O,payload:e}},P=a(267),q=function(){var e="3h0Aisbr5FaI4SVASWqSAumtHgx0lMFs",t="https://dataservice.accuweather.com";return{autocomplete:function(a){return"".concat(t,"/locations/v1/cities/autocomplete?apikey=").concat(e,"&q=").concat(a)},currentLocation:function(a){return"".concat(t,"/locations/v1/cities/search?apikey=").concat(e,"&q=").concat(a)},currentWeather:function(a){return"".concat(t,"/currentconditions/v1/").concat(a,"?apikey=").concat(e)},fiveDaysForecast:function(a){return"".concat(t,"/forecasts/v1/daily/5day/").concat(a,"?apikey=").concat(e)},filesUrl:"https://developer.accuweather.com/sites/default/files/"}}(),B=Object(x.a)((function(e){var t;return{root:(t={display:"flex",height:"100%",alignItems:"center",cursor:function(e){return e?"pointer":null},backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"1em","&:hover":{boxShadow:function(t){return t?e.shadows[4]:null}},padding:"1em"},Object(s.a)(t,e.breakpoints.down("sm"),{justifyContent:"space-between",paddingLeft:"1em"}),Object(s.a)(t,e.breakpoints.up("sm"),{flexDirection:"column",alignItems:"left"}),t),header:Object(s.a)({alignItems:"left",display:"flex",flexDirection:"column",flex:1},e.breakpoints.up("sm"),{alignItems:"center"}),title:{fontSize:"1.3rem",fontWeight:"bold"},subTitle:Object(s.a)({fontSize:"0.9rem",color:e.palette.grey[500]},e.breakpoints.up("sm"),{textAlign:"center"}),deleteBtn:{padding:"1em"},image:{padding:"1em"},"@keyframes fadeOut":{from:{opacity:1,transform:"scale(1)"},to:{opacity:0,transform:"scale(0)"}},fadeOutAnimation:{animation:"$fadeOut",animationDuration:"500ms",animationFillMode:"forwards"}}})),J=function(e){var t=e.item,a=e.isFavorite,c=e.onToggle,r=B(a),o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],d=s[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),f=b[0],p=b[1],O=Object(u.b)();Object(n.useEffect)((function(){d(!0)}),[t]);var h=function(){return Object(C.jsx)("img",{width:"100%",alt:"weather-icon",src:"".concat(q.filesUrl).concat(t.icon<10?"0":"").concat(t.icon,"-s.png")})};return Object(C.jsxs)(w.a,{className:Object(M.a)(r.root,f&&r.fadeOutAnimation),elevation:0,disabled:!a,onAnimationEnd:function(){c(t.id)},onClick:function(){O(G(t.title))},children:[Object(C.jsxs)(T.a,{className:r.header,children:[Object(C.jsx)(T.a,{className:r.title,children:t.title}),Object(C.jsx)(T.a,{className:r.subTitle,children:t.weatherText})]}),Object(C.jsx)(T.a,{className:r.image,children:l?Object(C.jsx)(h,{}):Object(C.jsx)(y.a,{})}),Object(C.jsx)(T.a,{className:r.title,children:t.temperature}),a&&Object(C.jsx)("div",{className:r.deleteBtn,children:Object(C.jsx)(V.a,{variant:"contained",color:"secondary",className:r.button,startIcon:Object(C.jsx)(P.a,{}),onClick:function(e){e.stopPropagation(),p(!0)},children:"delete"})})]})},U=a(29),H=a.n(U),K=a(45),Y=a(58),$=a.n(Y),Q=a(30),X=a(275),Z=a(103),ee=a.n(Z),te=a(104),ae=a.n(te),ne=a(273),ce=Object(x.a)({root:{backgroundColor:"transparent",marginBottom:"1em"}}),re=function(e){var t=e.setLocation,a=ce(),r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],u=o[1],l=Object(n.useState)([]),d=Object(i.a)(l,2),j=d[0],b=d[1],f=Object(n.useState)(""),p=Object(i.a)(f,2),O=p[0],h=p[1],m=s&&0===j.length,v=function(){t(O.toLowerCase())},x=function(e){var t=e.target.value;w(t)?(u(!!t),h(t)):Object(Q.a)("Please search in English only",2e3)},w=function(e){if(!e.length)return!0;var t=e.replace(/\s/g,"");return ae.a.isAlpha(t)};Object(n.useEffect)((function(){O&&Object(K.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee()(q.autocomplete(O));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,b(Object.keys(a).map((function(e){return a[e]})));case 7:case"end":return e.stop()}}),e)})))()}),[O]),Object(n.useEffect)((function(){s||b([])}),[s]);return Object(C.jsx)("div",{className:a.root,elevation:0,children:Object(C.jsx)(X.a,{open:s,onClose:function(){h(""),u(!1)},onChange:function(e,a){t(a.LocalizedName.toLowerCase())},getOptionSelected:function(e,t){return e.LocalizedName===t.LocalizedName},getOptionLabel:function(e){return e.LocalizedName},options:j,loading:m,renderInput:function(e){return Object(C.jsx)("form",{onSubmit:v,children:Object(C.jsx)(ne.a,Object(g.a)(Object(g.a)({className:a.textField,onChange:x},e),{},{label:"Search for cities...",variant:"standard",InputProps:Object(g.a)(Object(g.a)({},e.InputProps),{},{endAdornment:Object(C.jsxs)(c.a.Fragment,{children:[m?Object(C.jsx)(y.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))})}})})},oe=Object(x.a)((function(e){var t;return{root:(t={display:"grid",gridGap:"1rem"},Object(s.a)(t,e.breakpoints.down("sm"),{gridTemplateColumns:"1fr",gridTemplateRows:"auto",gridTemplateAreas:'"search" "current " "card1" "card2" "card3" "card4" "card5"'}),Object(s.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"auto",gridTemplateAreas:'"search search search search search"\n                          "current current current current current"\n                          "card1 card2 card3 card4 card5"'}),t),search:{gridArea:"search"},current:{gridArea:"current"},card1:{gridArea:"card1"},card2:{gridArea:"card2"},card3:{gridArea:"card3"},card4:{gridArea:"card4"},card5:{gridArea:"card5"}}})),ie=function(e){var t=e.defaultLocation,a=Object(u.c)((function(e){return e.apiReducer})).currentLocationResponse,c=Object(u.c)((function(e){return e.apiReducer})).currentWeatherResponse,r=Object(u.c)((function(e){return e.apiReducer})).fiveDaysForecastResponse,o=Object(n.useState)({}),s=Object(i.a)(o,2),b=s[0],f=s[1],p=Object(n.useState)({}),O=Object(i.a)(p,2),h=O[0],m=O[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),x=v[0],w=v[1],T=Object(n.useState)(!1),S=Object(i.a)(T,2),E=S[0],N=S[1],R=Object(n.useState)(t),A=Object(i.a)(R,2),k=A[0],I=A[1],F=Object(n.useState)(!1),_=Object(i.a)(F,2),W=_[0],M=_[1],V=Object(u.b)();Object(n.useEffect)((function(){V(G(k))}),[]),Object(n.useEffect)((function(){var e;void 0!==a&&0!==a.length&&(V((e=a.Key,function(){var t=Object(K.a)(H.a.mark((function t(a){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.get(q.currentWeather(e)).then((function(e){a({type:d,payload:e.data[0]})})).catch((function(e){e.response?Object(Q.a)(D+"\n"+e.response):e.request&&Object(Q.a)(D)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),V(function(e){return function(){var t=Object(K.a)(H.a.mark((function t(a){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.get(q.fiveDaysForecast(e)).then((function(e){a({type:j,payload:e.data.DailyForecasts})})).catch((function(e){e.response?Object(Q.a)(D+"\n"+e.response):e.request&&Object(Q.a)(D)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a.Key)))}),[a]),Object(n.useEffect)((function(){void 0!==c&&0!==c.length&&P()}),[c]),Object(n.useEffect)((function(){void 0!==r&&0!==r.length&&B()}),[r]),Object(n.useEffect)((function(){var e;V((e=k,function(){var t=Object(K.a)(H.a.mark((function t(a){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.get(q.currentLocation(e)).then((function(e){e.data[0]?a({type:l,payload:e.data[0]}):Object(Q.a)("Location not found")})).catch((function(e){e.response?Object(Q.a)(D+"\n"+e.response):e.request&&Object(Q.a)(D)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[k]);var P=function(){var e={id:a.Key,title:a.EnglishName,temperature:c.Temperature.Metric.Value+"C\xb0",icon:c.WeatherIcon,weatherText:c.WeatherText};f(e),w(!0)},B=function(){var e=[];for(var t in r)e.push({id:t,title:Y(r[t].Date),temperature:U(r[t].Temperature.Maximum.Value),icon:r[t].Day.Icon,weatherText:r[t].Day.IconPhrase});m(e),w(!0),N(!0),W&&M(!1)},U=function(e){var t=5*(e-32)/9;return Math.ceil(Math.round(10*t)/10)+"C\xb0"},Y=function(e){return z()(e).format("dddd").substring(0,3)},X=function(e){M(!0),I(e)},Z=function(){var e=oe();return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)("div",{className:e.search,children:Object(C.jsx)(re,{setLocation:X})}),Object(C.jsx)("div",{className:e.current,children:Object(C.jsx)(L,{currentWeather:b})}),h.map((function(t,a){return Object(C.jsx)("div",{className:e["card".concat(a+1)],children:Object(C.jsx)(J,{item:t,isFavorite:!1,onToggle:function(){}})},t.id)}))]})},ee=function(){return Object(C.jsx)("div",{display:"flex",children:Object(C.jsx)(y.a,{})})};return x&&E&&!W?Object(C.jsx)(Z,{}):Object(C.jsx)(ee,{})},se=Object(x.a)((function(e){var t;return{root:(t={display:"grid",gridGap:"1rem"},Object(s.a)(t,e.breakpoints.down("sm"),{gridTemplateColumns:"1fr",gridAutoFlow:"rows"}),Object(s.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"repeat(5, 1fr)"}),t)}})),ue=function(){var e=se(),t=Object(u.c)((function(e){return e.favoritesReducer})),a=Object(n.useState)(t),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(u.b)();return Object(n.useEffect)((function(){s({type:p})}),[]),Object(n.useEffect)((function(){o(t)}),[t]),Object(C.jsx)("div",{className:e.root,children:r.map((function(e){return Object(C.jsx)(J,{item:e,isFavorite:!0,onToggle:function(e){return s(m(e))}},e.id)}))})},le=a(269),de=a(270),je=a(276),be=a(271),fe=Object(x.a)({root:{position:"static"}});function pe(e){var t=e.children,a=e.value,n=e.index,c=Object(v.a)(e,["children","value","index"]);return Object(C.jsx)("div",Object(g.a)(Object(g.a)({role:"tabpanel",hidden:a!==n,id:"scrollable-prevent-tabpanel-".concat(n),"aria-labelledby":"scrollable-prevent-tab-".concat(n)},c),{},{children:a===n&&Object(C.jsx)(T.a,{p:3,children:Object(C.jsx)(le.a,{component:"span",children:t})})}))}function Oe(e){return{id:"scrollable-prevent-tab-".concat(e),"aria-controls":"scrollable-prevent-tabpanel-".concat(e)}}var he=function(){var e=fe(),t=Object(u.c)((function(e){return e.navigateReducer})),a=c.a.useState(0),r=Object(i.a)(a,2),o=r[0],s=r[1],l=c.a.useState(_),d=Object(i.a)(l,2),j=d[0],b=d[1];Object(n.useEffect)((function(){o&&!t.navigationIndex&&(b(t.defaultWeatherCountry),s(0))}),[t]);return Object(C.jsxs)(T.a,{children:[Object(C.jsx)(de.a,{className:e.root,children:Object(C.jsxs)(je.a,{value:o,indicatorColor:"primary",onChange:function(e,t){s(t)},"aria-label":"disabled tabs example",children:[Object(C.jsx)(be.a,Object(g.a)({label:"home"},Oe(0))),Object(C.jsx)(be.a,Object(g.a)({label:"favorites"},Oe(1)))]})}),Object(C.jsx)(pe,{value:o,index:0,children:Object(C.jsx)(ie,{defaultLocation:j})}),Object(C.jsx)(pe,{value:o,index:1,children:Object(C.jsx)(ue,{})})]})},me=a(272),ge=Object(x.a)((function(e){return{root:Object(s.a)({background:"url(https://images.unsplash.com/photo-1517483000871-1dbf64a6e1c6) no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover"},e.breakpoints.up("sm"),{height:"100vh"})}})),ve=function(){var e=ge(),t=Object(u.b)();return Object(n.useEffect)((function(){for(var e=0,a=Object.entries(localStorage);e<a.length;e++){var n=Object(i.a)(a[e],2)[1];t(h(JSON.parse(n)))}}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(me.a,{}),Object(C.jsx)(T.a,{className:e.root,children:Object(C.jsx)(he,{})})]})},xe=a(106),ye=a(33),we=a(107),Te=[],Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return-1===e.indexOf(t.payload)&&e.push(t.payload),localStorage.setItem(t.payload.id,JSON.stringify(t.payload)),e;case f:var a=e.filter((function(e){return e.id!==t.payload}));return e=a,localStorage.removeItem(t.payload),e;default:return e}},Ee={currentLocationResponse:[],currentWeatherResponse:[],fiveDaysForecastResponse:[]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(g.a)(Object(g.a)({},e),{},{currentLocationResponse:t.payload});case d:return Object(g.a)(Object(g.a)({},e),{},{currentWeatherResponse:t.payload});case j:return Object(g.a)(Object(g.a)({},e),{},{fiveDaysForecastResponse:t.payload});default:return e}},Re={navigationIndex:0,defaultWeatherCountry:_},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(g.a)(Object(g.a)({},e),{},{navigationIndex:0,defaultWeatherCountry:t.payload});case p:return Object(g.a)(Object(g.a)({},e),{},{navigationIndex:1});default:return e}},Ce=Object(ye.combineReducers)({favoritesReducer:Se,apiReducer:Ne,navigateReducer:Ae}),ke=[we.a],Ie=Object(ye.createStore)(Ce,{},Object(xe.composeWithDevTools)(ye.applyMiddleware.apply(void 0,ke)));o.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(u.a,{store:Ie,children:Object(C.jsx)(ve,{})})}),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.f69ad72f.chunk.js.map