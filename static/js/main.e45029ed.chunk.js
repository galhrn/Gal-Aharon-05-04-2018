(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{226:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),i=a(13),s=a(20),u=a(17),l="GET_CURRENT_LOCATION",d="GET_CURRENT_WEATHER",j="GET_FIVE_DAYS_FORECAST",b="ADD_TO_FAVORITE_LIST",f="REMOVE_FROM_FAVORITE_LIST",p="NAVIGATE_TO_FAVORITE_SCREEN",O="NAVIGATE_TO_HOME_SCREEN",h=function(e){return{type:b,payload:e}},m=function(e){return{type:f,payload:e}},g=a(15),v=a(108),x=a(261),y=a(265),w=a(228),T=a(274),E=a(263),S=a(100),N=a.n(S),R=a(101),C=a.n(R),k=a(5),A=Object(x.a)({root:{border:"none",borderRadius:"50%"}}),I=function(e){var t=e.isFavorite,a=e.onToggle,c=A(),r=Object(n.useState)(t),o=Object(i.a)(r,2),s=o[0],u=o[1];Object(n.useEffect)((function(){u(t)}),[t]);return Object(k.jsx)(T.a,{children:Object(k.jsx)(E.a,{className:c.root,value:"check",selected:s,onChange:function(e){e.stopPropagation(),u(!s),a(s)},children:s?Object(k.jsx)(N.a,{color:"secondary"}):Object(k.jsx)(C.a,{})})})},L=Object(x.a)((function(e){return{root:{padding:"1em",backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"1em"},paper:{},control:{padding:"1em"},header:{},title:{fontSize:"1.5rem",fontWeight:"bold"},subTitle:{fontSize:"1rem",color:e.palette.grey[400],marginLeft:"1"},temperature:{fontSize:"3rem",color:e.palette.primary.main},imageContainer:{paddingRight:"1em"},image:{width:"100%"}}})),F=function(e){var t=e.currentWeather,a=(e.fiveDaysForecast,L()),c=Object(n.useState)(!1),r=Object(i.a)(c,2),o=r[0],s=r[1],l=Object(u.b)();Object(n.useEffect)((function(){d()}),[]);var d=function(){localStorage.getItem(t.id)&&s(!0)};return Object(k.jsx)(w.a,{className:a.root,elevation:0,children:Object(k.jsxs)(T.a,{component:"span",display:"flex",children:[Object(k.jsx)(T.a,{className:a.imageContainer,children:Object(k.jsx)("img",{className:a.image,src:"https://developer.accuweather.com/sites/default/files/".concat(t.icon<10?"0":"").concat(t.icon,"-s.png"),alt:"weather-icon"})}),Object(k.jsxs)(T.a,{flexGrow:1,children:[Object(k.jsxs)(T.a,{className:a.header,children:[Object(k.jsx)(T.a,{className:a.title,children:t.title}),Object(k.jsx)(T.a,{className:a.subTitle,children:t.weatherText})]}),Object(k.jsx)(T.a,{className:a.temperature,children:t.temperature})]}),Object(k.jsx)(I,{isFavorite:o,onToggle:function(){s(!o),l(o?m(t.id):h(t))}})]})})},D="tel aviv",_="oops something went wrong...",W=a(102),z=a.n(W),M=a(3),V=a(266),P=function(e){return{type:O,payload:e}},G=a(267),B=function(){var e="YErDUivM5BIBmePKyClDg2KLOV3RgnnP",t="https://dataservice.accuweather.com";return{autocomplete:function(a){return"".concat(t,"/locations/v1/cities/autocomplete?apikey=").concat(e,"&q=").concat(a)},currentLocation:function(a){return"".concat(t,"/locations/v1/cities/search?apikey=").concat(e,"&q=").concat(a)},currentWeather:function(a){return"".concat(t,"/currentconditions/v1/").concat(a,"?apikey=").concat(e)},fiveDaysForecast:function(a){return"".concat(t,"/forecasts/v1/daily/5day/").concat(a,"?apikey=").concat(e)},filesUrl:"https://developer.accuweather.com/sites/default/files/"}}(),q=Object(x.a)((function(e){var t;return{root:(t={display:"flex",height:"100%",alignItems:"center",cursor:function(e){return e?"pointer":null},backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"1em","&:hover":{boxShadow:function(t){return t?e.shadows[4]:null}},padding:"1em"},Object(s.a)(t,e.breakpoints.down("sm"),{justifyContent:"space-between",paddingLeft:"1em"}),Object(s.a)(t,e.breakpoints.up("sm"),{flexDirection:"column",alignItems:"left"}),t),header:Object(s.a)({alignItems:"left",display:"flex",flexDirection:"column",flex:1},e.breakpoints.up("sm"),{alignItems:"center"}),title:{fontSize:"1.3rem",fontWeight:"bold"},subTitle:Object(s.a)({fontSize:"0.9rem",color:e.palette.grey[500]},e.breakpoints.up("sm"),{textAlign:"center"}),deleteBtn:{padding:"1em"},image:{padding:"1em"},"@keyframes fadeOut":{from:{opacity:1,transform:"scale(1)"},to:{opacity:0,transform:"scale(0)"}},fadeOutAnimation:{animation:"$fadeOut",animationDuration:"500ms",animationFillMode:"forwards"}}})),K=function(e){var t=e.item,a=e.isFavorite,c=e.onToggle,r=q(a),o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],d=s[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),f=b[0],p=b[1],O=Object(u.b)();Object(n.useEffect)((function(){d(!0)}),[t]);var h=function(){return Object(k.jsx)("img",{width:"100%",alt:"weather-icon",src:"".concat(B.filesUrl).concat(t.icon<10?"0":"").concat(t.icon,"-s.png")})};return Object(k.jsxs)(w.a,{className:Object(M.a)(r.root,f&&r.fadeOutAnimation),elevation:0,disabled:!a,onAnimationEnd:function(){c(t.id)},onClick:function(){O(P(t.title))},children:[Object(k.jsxs)(T.a,{className:r.header,children:[Object(k.jsx)(T.a,{className:r.title,children:t.title}),Object(k.jsx)(T.a,{className:r.subTitle,children:t.weatherText})]}),Object(k.jsx)(T.a,{className:r.image,children:l?Object(k.jsx)(h,{}):Object(k.jsx)(y.a,{})}),Object(k.jsx)(T.a,{className:r.title,children:t.temperature}),a&&Object(k.jsx)("div",{className:r.deleteBtn,children:Object(k.jsx)(V.a,{variant:"contained",color:"secondary",className:r.button,startIcon:Object(k.jsx)(G.a,{}),onClick:function(e){e.stopPropagation(),p(!0)},children:"delete"})})]})},U=a(29),J=a.n(U),H=a(45),Y=a(58),$=a.n(Y),Q=a(30),X=function(e){return function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.get(B.currentLocation(e)).then((function(e){e.data[0]?a({type:l,payload:e.data[0]}):Object(Q.a)("Location not found")})).catch((function(e){e.response?Object(Q.a)(_+"\n"+e.response):e.request&&Object(Q.a)(_)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=a(275),ee=a(103),te=a.n(ee),ae=a(104),ne=a.n(ae),ce=a(273),re=Object(x.a)({root:{backgroundColor:"transparent",marginBottom:"1em"}}),oe=function(e){var t=e.setLocation,a=re(),r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],u=o[1],l=Object(n.useState)([]),d=Object(i.a)(l,2),j=d[0],b=d[1],f=Object(n.useState)(""),p=Object(i.a)(f,2),O=p[0],h=p[1],m=s&&0===j.length,v=function(){t(O.toLowerCase())},x=function(e){var t=e.target.value;w(t)?(u(!!t),h(t)):Object(Q.a)("Please search in English only",2e3)},w=function(e){if(!e.length)return!0;var t=e.replace(/\s/g,"");return ne.a.isAlpha(t)};Object(n.useEffect)((function(){O&&Object(H.a)(J.a.mark((function e(){var t,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()(B.autocomplete(O));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,b(Object.keys(a).map((function(e){return a[e]})));case 7:case"end":return e.stop()}}),e)})))()}),[O]),Object(n.useEffect)((function(){s||b([])}),[s]);return Object(k.jsx)("div",{className:a.root,elevation:0,children:Object(k.jsx)(Z.a,{open:s,onClose:function(){h(""),u(!1)},onChange:function(e,a){t(a.LocalizedName.toLowerCase())},getOptionSelected:function(e,t){return e.LocalizedName===t.LocalizedName},getOptionLabel:function(e){return e.LocalizedName},options:j,loading:m,renderInput:function(e){return Object(k.jsx)("form",{onSubmit:v,children:Object(k.jsx)(ce.a,Object(g.a)(Object(g.a)({className:a.textField,onChange:x},e),{},{label:"Search for cities...",variant:"standard",InputProps:Object(g.a)(Object(g.a)({},e.InputProps),{},{endAdornment:Object(k.jsxs)(c.a.Fragment,{children:[m?Object(k.jsx)(y.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))})}})})},ie=Object(x.a)((function(e){var t;return{root:(t={display:"grid",gridGap:"1rem"},Object(s.a)(t,e.breakpoints.down("sm"),{gridTemplateColumns:"1fr",gridTemplateRows:"auto",gridTemplateAreas:'"search" "current " "card1" "card2" "card3" "card4" "card5"'}),Object(s.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"auto",gridTemplateAreas:'"search search search search search"\n                          "current current current current current"\n                          "card1 card2 card3 card4 card5"'}),t),search:{gridArea:"search"},current:{gridArea:"current"},card1:{gridArea:"card1"},card2:{gridArea:"card2"},card3:{gridArea:"card3"},card4:{gridArea:"card4"},card5:{gridArea:"card5"}}})),se=function(e){var t=e.defaultLocation,a=Object(u.c)((function(e){return e.apiReducer})).currentLocationResponse,c=Object(u.c)((function(e){return e.apiReducer})).currentWeatherResponse,r=Object(u.c)((function(e){return e.apiReducer})).fiveDaysForecastResponse,o=Object(n.useState)({}),s=Object(i.a)(o,2),l=s[0],b=s[1],f=Object(n.useState)({}),p=Object(i.a)(f,2),O=p[0],h=p[1],m=Object(n.useState)(!1),g=Object(i.a)(m,2),v=g[0],x=g[1],w=Object(n.useState)(!1),T=Object(i.a)(w,2),E=T[0],S=T[1],N=Object(n.useState)(t),R=Object(i.a)(N,2),C=R[0],A=R[1],I=Object(n.useState)(!1),L=Object(i.a)(I,2),D=L[0],W=L[1],M=Object(u.b)();Object(n.useEffect)((function(){M(P(C)),M(X(t))}),[]),Object(n.useEffect)((function(){var e;void 0!==a&&0!==a.length&&(M((e=a.Key,function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.get(B.currentWeather(e)).then((function(e){a({type:d,payload:e.data[0]})})).catch((function(e){e.response?Object(Q.a)(_+"\n"+e.response):e.request&&Object(Q.a)(_)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),M(function(e){return function(){var t=Object(H.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.get(B.fiveDaysForecast(e)).then((function(e){a({type:j,payload:e.data.DailyForecasts})})).catch((function(e){e.response?Object(Q.a)(_+"\n"+e.response):e.request&&Object(Q.a)(_)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a.Key)))}),[a]),Object(n.useEffect)((function(){void 0!==c&&0!==c.length&&V()}),[c]),Object(n.useEffect)((function(){void 0!==r&&0!==r.length&&G()}),[r]),Object(n.useEffect)((function(){M(X(C))}),[C]);var V=function(){var e={id:a.Key,title:a.EnglishName,temperature:c.Temperature.Metric.Value+"C\xb0",icon:c.WeatherIcon,weatherText:c.WeatherText};b(e),x(!0)},G=function(){var e=[];for(var t in r)e.push({id:t,title:U(r[t].Date),temperature:q(r[t].Temperature.Maximum.Value),icon:r[t].Day.Icon,weatherText:r[t].Day.IconPhrase});h(e),x(!0),S(!0),D&&W(!1)},q=function(e){var t=5*(e-32)/9;return Math.ceil(Math.round(10*t)/10)+"C\xb0"},U=function(e){return z()(e).format("dddd").substring(0,3)},Y=function(e){W(!0),A(e)},Z=function(){var e=ie();return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)("div",{className:e.search,children:Object(k.jsx)(oe,{setLocation:Y})}),Object(k.jsx)("div",{className:e.current,children:Object(k.jsx)(F,{currentWeather:l})}),O.map((function(t,a){return Object(k.jsx)("div",{className:e["card".concat(a+1)],children:Object(k.jsx)(K,{item:t,isFavorite:!1,onToggle:function(){}})},t.id)}))]})},ee=function(){return Object(k.jsx)("div",{display:"flex",children:Object(k.jsx)(y.a,{})})};return v&&E&&!D?Object(k.jsx)(Z,{}):Object(k.jsx)(ee,{})},ue=Object(x.a)((function(e){var t;return{root:(t={display:"grid",gridGap:"1rem"},Object(s.a)(t,e.breakpoints.down("sm"),{gridTemplateColumns:"1fr",gridAutoFlow:"rows"}),Object(s.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"repeat(5, 1fr)"}),t)}})),le=function(){var e=ue(),t=Object(u.c)((function(e){return e.favoritesReducer})),a=Object(n.useState)(t),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(u.b)();return Object(n.useEffect)((function(){s({type:p})}),[]),Object(n.useEffect)((function(){o(t)}),[t]),Object(k.jsx)("div",{className:e.root,children:r.map((function(e){return Object(k.jsx)(K,{item:e,isFavorite:!0,onToggle:function(e){return s(m(e))}},e.id)}))})},de=a(269),je=a(270),be=a(276),fe=a(271),pe=Object(x.a)({root:{position:"static"}});function Oe(e){var t=e.children,a=e.value,n=e.index,c=Object(v.a)(e,["children","value","index"]);return Object(k.jsx)("div",Object(g.a)(Object(g.a)({role:"tabpanel",hidden:a!==n,id:"scrollable-prevent-tabpanel-".concat(n),"aria-labelledby":"scrollable-prevent-tab-".concat(n)},c),{},{children:a===n&&Object(k.jsx)(T.a,{p:3,children:Object(k.jsx)(de.a,{component:"span",children:t})})}))}function he(e){return{id:"scrollable-prevent-tab-".concat(e),"aria-controls":"scrollable-prevent-tabpanel-".concat(e)}}var me=function(){var e=pe(),t=Object(u.c)((function(e){return e.navigateReducer})),a=c.a.useState(0),r=Object(i.a)(a,2),o=r[0],s=r[1],l=c.a.useState(D),d=Object(i.a)(l,2),j=d[0],b=d[1];Object(n.useEffect)((function(){o&&!t.navigationIndex&&(b(t.defaultWeatherCountry),s(0))}),[t]);return Object(k.jsxs)(T.a,{children:[Object(k.jsx)(je.a,{className:e.root,children:Object(k.jsxs)(be.a,{value:o,indicatorColor:"primary",onChange:function(e,t){s(t)},"aria-label":"disabled tabs example",children:[Object(k.jsx)(fe.a,Object(g.a)({label:"home"},he(0))),Object(k.jsx)(fe.a,Object(g.a)({label:"favorites"},he(1)))]})}),Object(k.jsx)(Oe,{value:o,index:0,children:Object(k.jsx)(se,{defaultLocation:j})}),Object(k.jsx)(Oe,{value:o,index:1,children:Object(k.jsx)(le,{})})]})},ge=a(272),ve=Object(x.a)((function(e){return{root:Object(s.a)({background:"url(https://images.unsplash.com/photo-1517483000871-1dbf64a6e1c6) no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover"},e.breakpoints.up("sm"),{height:"100vh"})}})),xe=function(){var e=ve(),t=Object(u.b)();return Object(n.useEffect)((function(){for(var e=0,a=Object.entries(localStorage);e<a.length;e++){var n=Object(i.a)(a[e],2)[1];t(h(JSON.parse(n)))}}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)(ge.a,{}),Object(k.jsx)(T.a,{className:e.root,children:Object(k.jsx)(me,{})})]})},ye=a(106),we=a(33),Te=a(107),Ee=[],Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return-1===e.indexOf(t.payload)&&e.push(t.payload),localStorage.setItem(t.payload.id,JSON.stringify(t.payload)),e;case f:var a=e.filter((function(e){return e.id!==t.payload}));return e=a,localStorage.removeItem(t.payload),e;default:return e}},Ne={currentLocationResponse:[],currentWeatherResponse:[],fiveDaysForecastResponse:[]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(g.a)(Object(g.a)({},e),{},{currentLocationResponse:t.payload});case d:return Object(g.a)(Object(g.a)({},e),{},{currentWeatherResponse:t.payload});case j:return Object(g.a)(Object(g.a)({},e),{},{fiveDaysForecastResponse:t.payload});default:return e}},Ce={navigationIndex:0,defaultWeatherCountry:D},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(g.a)(Object(g.a)({},e),{},{navigationIndex:0,defaultWeatherCountry:t.payload});case p:return Object(g.a)(Object(g.a)({},e),{},{navigationIndex:1});default:return e}},Ae=Object(we.combineReducers)({favoritesReducer:Se,apiReducer:Re,navigateReducer:ke}),Ie=[Te.a],Le=Object(we.createStore)(Ae,{},Object(ye.composeWithDevTools)(we.applyMiddleware.apply(void 0,Ie)));o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(u.a,{store:Le,children:Object(k.jsx)(xe,{})})}),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.e45029ed.chunk.js.map